name: workflow-immortality

on:
  schedule:
    # run once a month on the first day of the month at 02:00 UTC
    - cron: '00 02 01 * *'
  workflow_dispatch: {}

jobs:
  keepalive:
    name: workflow-immortality

    runs-on: ubuntu-latest
    permissions: {}

    steps:
      - name: Keep cronjob based triggers of GitHub workflows alive
        uses: PhrozenByte/gh-workflow-immortality@30b225baa7c0a430462c88509d740095cb58925f # v1.1.2
        with:
          secret: ${{ secrets.IMMORTALITY_PAT }}
          owner_repos: true # this ensures all repositories owned by me (public and private) are kept alive
